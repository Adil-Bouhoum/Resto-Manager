<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.restaurant.controller.CuisineController">

    <top>
        <VBox spacing="10" style="-fx-padding: 15;">
            <Label text="ðŸ‘¨â€ðŸ³ Interface Cuisine"
                   style="-fx-font-size: 18; -fx-font-weight: bold;" />

            <HBox spacing="20">
                <VBox spacing="5">
                    <Label fx:id="statsLabel" text="Chargement..."
                           style="-fx-font-weight: bold; -fx-font-size: 12;" />
                    <Label text="RafraÃ®chissement automatique toutes les 2 secondes"
                           style="-fx-text-fill: #666666; -fx-font-size: 11;" />
                </VBox>

                <Region HBox.hgrow="ALWAYS" />

                <Button text="ðŸ”„ RafraÃ®chir" onAction="#handleRefresh" />
                <Button text="ðŸ‘€ Voir dÃ©tails" onAction="#handleViewDetails" />
            </HBox>
        </VBox>
    </top>

    <center>
        <!-- âœ… 4 colonnes au lieu de 2 -->
        <SplitPane dividerPositions="0.25, 0.5, 0.75">

            <!-- COLONNE 1: Commandes en attente -->
            <VBox spacing="10" style="-fx-padding: 10;">
                <HBox spacing="10">
                    <Label text="â³ En Attente"
                           style="-fx-font-weight: bold; -fx-font-size: 12;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="âž¡ï¸" onAction="#handleSendToPreparation"
                            style="-fx-font-size: 10; -fx-padding: 5;" />
                </HBox>

                <TableView fx:id="attenteTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn text="ID" prefWidth="40" />
                        <TableColumn text="Table" prefWidth="50" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <!-- COLONNE 2: Commandes en prÃ©paration -->
            <VBox spacing="10" style="-fx-padding: 10;">
                <HBox spacing="10">
                    <Label text="ðŸ”¥ En PrÃ©paration"
                           style="-fx-font-weight: bold; -fx-font-size: 12;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="âœ…" onAction="#handleMarkReady"
                            style="-fx-font-size: 10; -fx-padding: 5;" />
                </HBox>

                <TableView fx:id="preparationTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn text="ID" prefWidth="40" />
                        <TableColumn text="Table" prefWidth="50" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <!-- âœ… COLONNE 3: Commandes prÃªtes -->
            <VBox spacing="10" style="-fx-padding: 10;">
                <HBox spacing="10">
                    <Label text="âœ… PrÃªt"
                           style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #00aa00;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="ðŸ½ï¸" onAction="#handleMarkServed"
                            style="-fx-font-size: 10; -fx-padding: 5;" />
                </HBox>

                <TableView fx:id="pretTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn text="ID" prefWidth="40" />
                        <TableColumn text="Table" prefWidth="50" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <!-- âœ… COLONNE 4: Commandes servies -->
            <VBox spacing="10" style="-fx-padding: 10;">
                <HBox spacing="10">
                    <Label text="ðŸ½ï¸ Servi"
                           style="-fx-font-weight: bold; -fx-font-size: 12; -fx-text-fill: #0000aa;" />
                    <Region HBox.hgrow="ALWAYS" />
                </HBox>

                <TableView fx:id="serviTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn text="ID" prefWidth="40" />
                        <TableColumn text="Table" prefWidth="50" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </SplitPane>
    </center>

    <bottom>
        <HBox style="-fx-background-color: #f0f0f0; -fx-padding: 10;" spacing="15">
            <VBox spacing="5">
                <Label text="ðŸ“‹ Workflow:" style="-fx-font-weight: bold; -fx-font-size: 11;" />
                <Label text="â³ â†’ ðŸ”¥ â†’ âœ… â†’ ðŸ½ï¸"
                       style="-fx-text-fill: #666666; -fx-font-size: 10;" />
            </VBox>

            <Region HBox.hgrow="ALWAYS" />

            <Label text="Auto-rafraÃ®chissement: 2 secondes"
                   style="-fx-text-fill: #666666; -fx-font-size: 10;" />
        </HBox>
    </bottom>

</BorderPane>